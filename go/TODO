- if nothing written in response throw error?
- wrap entry to handle panics?
- introduce error types and global handler for proper responses on different errors?
- add configuration and adapt
- add test suite and adapt test and add assertions?